var curve;!function(e){e.version="0.1.2"}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(e,t,r,n,a){var o=n-e,c=a-t;return r?i.create(c,-o):i.create(-c,o)}function n(e,t,r,n,a){var o=n-e,c=a-t;return r?i.create(c,-o):i.create(-c,o)}function a(e,t,r,n,a,o,i){var c=(r-e)*(o-t)-(a-e)*(n-t);return 0===c?!0:c>0&&i?!0:0>c&&!i?!0:!1}function o(t,r,n,a,o){var c=n/2;switch(a){case e.PenLineCap.Round:return{x1:t-c,x2:t+c,y1:r-c,y2:r+c};case e.PenLineCap.Square:var u=i.normalize(i.clone(o)),s=i.orthogonal(i.clone(u));return{x1:t+c*(u[0]+s[0]),x2:t+c*(u[0]-s[0]),y1:r+c*(u[1]+s[1]),y2:r+c*(u[1]-s[1])};case e.PenLineCap.Flat:default:var s=i.orthogonal(i.normalize(i.clone(o)));return{x1:t+c*s[0],x2:t+c*-s[0],y1:r+c*s[1],y2:r+c*-s[1]}}}var i=la.vec2,c=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,t,o){var c=o[0],u=o[1],s=o[2],l=o[3],v=o[4],f=o[5];e=c+s*Math.cos(l),t=u+s*Math.sin(l);var p=c+s*Math.cos(v),h=u+s*Math.sin(v),x=c-s,y=a(e,t,p,h,x,u,f),d=c+s,m=a(e,t,p,h,d,u,f),T=u-s,b=a(e,t,p,h,c,T,f),M=u+s,P=a(e,t,p,h,c,M,f);return{sx:e,sy:t,l:x,cl:y,r:d,cr:m,t:T,ct:b,b:M,cb:P,endPoint:i.create(p,h),startVector:r(c,u,f,e,t),endVector:n(c,u,f,p,h)}},e.prototype.extendFillBox=function(e,t,r,n,a){var o=n[3],i=n[4];if(i!==o){var c=a.endPoint,u=c[0],s=c[1];e.l=Math.min(e.l,t,u),e.r=Math.max(e.r,t,u),e.t=Math.min(e.t,r,s),e.b=Math.max(e.b,r,s),a.cl&&(e.l=Math.min(e.l,a.l)),a.cr&&(e.r=Math.max(e.r,a.r)),a.ct&&(e.t=Math.min(e.t,a.t)),a.cb&&(e.b=Math.max(e.b,a.b))}},e.prototype.extendStrokeBox=function(e,t,r,n,a,c){var u=n[3],s=n[4];if(s!==u){var l=a.endPoint,v=l[0],f=l[1];e.l=Math.min(e.l,t,v),e.r=Math.max(e.r,t,v),e.t=Math.min(e.t,r,f),e.b=Math.max(e.b,r,f);var p=c.strokeThickness/2;a.cl&&(e.l=Math.min(e.l,a.l-p)),a.cr&&(e.r=Math.max(e.r,a.r+p)),a.ct&&(e.t=Math.min(e.t,a.t-p)),a.cb&&(e.b=Math.max(e.b,a.b+p));var h=c.strokeStartLineCap||c.strokeEndLineCap||0,x=i.reverse(i.clone(a.startVector)),y=o(t,r,c.strokeThickness,h,x),d=o(v,f,c.strokeThickness,h,a.endVector);e.l=Math.min(e.l,y.x1,y.x2,d.x1,d.x2),e.r=Math.max(e.r,y.x1,y.x2,d.x1,d.x2),e.t=Math.min(e.t,y.y1,y.y2,d.y1,d.y2),e.b=Math.max(e.b,y.y1,y.y2,d.y1,d.y2)}},e}();t.Arc=c}(r=t.extenders||(t.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){var t=la.vec2,r=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,r,n){var a=n[0],o=n[1];return{startVector:t.create(a-e,o-r),endVector:t.create(a-e,o-r),endPoint:t.create(a,o)}},e.prototype.extendFillBox=function(e,t,r,n,a){var o=n[0],i=n[1];e.l=Math.min(e.l,o),e.r=Math.max(e.r,o),e.t=Math.min(e.t,i),e.b=Math.max(e.b,i)},e.prototype.extendStrokeBox=function(e,t,r,n,a,o){this.extendFillBox(e,t,r,n,a)},e}();e.LineTo=r}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){function t(e,t,r,n){var a=[r,n];return{args:a,metrics:c.init(e,t,a)}}function r(e,t,r,n,o){var c=a(e,t,r,n),u=!la.vec2.isClockwiseTo(t,n),s=Math.atan2(e[1]-c[1],e[0]-c[0]);0>s&&(s=2*Math.PI+s);var l=Math.atan2(r[1]-c[1],r[0]-c[0]);0>l&&(l=2*Math.PI+l);var v=[c[0],c[1],o,s,l,u];return{args:v,metrics:i.init(e[0],e[1],v)}}function n(e,t,r,n,a){var o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),i=t/Math.tan(e/2),c=i/o;return a&&(c=1-c),la.vec2.create(r[0]+c*n[0],r[1]+c*n[1])}function a(e,t,r,n){var a=o.orthogonal(o.clone(t)),i=o.orthogonal(o.clone(n));return o.intersection(e,a,r,i)}var o=la.vec2,i=new e.Arc,c=new e.LineTo,u=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,a,i){var c=i[0],u=i[1],s=i[2],l=i[3],v=i[4],f=o.create(c-e,u-a),p=o.create(s-c,l-u),h=Math.PI-o.angleBetween(f,p),x=n(h,v,o.create(e,a),f,!0),y=n(h,v,o.create(c,u),p,!1),d=t(e,a,x[0],x[1]),m=r(x,f,y,p,v);return{line:d,arc:m,startVector:d.metrics.startVector,endVector:m.metrics.endVector,endPoint:m.metrics.endPoint}},e.prototype.extendFillBox=function(e,t,r,n,a){c.extendFillBox(e,t,r,a.line.args,a.line.metrics);var o=a.line.metrics.endPoint;i.extendFillBox(e,o[0],o[1],a.arc.args,a.arc.metrics)},e.prototype.extendStrokeBox=function(e,t,r,n,a,o){c.extendStrokeBox(e,t,r,a.line.args,a.line.metrics,o);var u=a.line.metrics.endPoint;i.extendStrokeBox(e,u[0],u[1],a.arc.args,a.arc.metrics,o)},e}();e.ArcTo=u}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){function t(e,t,n,a,o,i,c,u){return{x:r(e,t,n,a),y:r(o,i,c,u)}}function r(e,t,r,n){var a=2*e-4*t+2*r,o=t-e,i=-e+3*t+n-3*r,c=Math.sqrt(a*a-4*o*i),u=[null,null];if(isNaN(c))return u;var s,l;return s=(-a+c)/(2*i),s>=0&&1>=s&&(l=1-s,u[0]=e*l*l*l+3*t*s*l*l+3*r*l*s*s+n*s*s*s),s=(-a-c)/(2*i),s>=0&&1>=s&&(l=1-s,u[1]=e*l*l*l+3*t*s*l*l+3*r*l*s*s+n*s*s*s),u}var n=la.vec2,a=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,t,r){var a=r[0],o=r[1],i=r[2],c=r[3],u=r[4],s=r[5];return{endPoint:n.create(u,s),startVector:n.create(3*(a-e),3*(o-t)),endVector:n.create(3*(u-i),3*(s-c))}},e.prototype.extendFillBox=function(e,r,n,a,o){var i=a[0],c=a[1],u=a[2],s=a[3],l=a[4],v=a[5],f=t(r,i,u,l,n,c,s,v);null!=f.x[0]&&(e.l=Math.min(e.l,f.x[0]),e.r=Math.max(e.r,f.x[0])),null!=f.x[1]&&(e.l=Math.min(e.l,f.x[1]),e.r=Math.max(e.r,f.x[1])),null!=f.y[0]&&(e.t=Math.min(e.t,f.y[0]),e.b=Math.max(e.b,f.y[0])),null!=f.y[1]&&(e.t=Math.min(e.t,f.y[1]),e.b=Math.max(e.b,f.y[1])),e.l=Math.min(e.l,l),e.r=Math.max(e.r,l),e.t=Math.min(e.t,v),e.b=Math.max(e.b,v)},e.prototype.extendStrokeBox=function(e,r,n,a,o,i){var c=a[0],u=a[1],s=a[2],l=a[3],v=a[4],f=a[5],p=i.strokeThickness/2,h=t(r,c,s,v,n,u,l,f);null!=h.x[0]&&(e.l=Math.min(e.l,h.x[0]-p),e.r=Math.max(e.r,h.x[0]+p)),null!=h.x[1]&&(e.l=Math.min(e.l,h.x[1]-p),e.r=Math.max(e.r,h.x[1]+p)),null!=h.y[0]&&(e.t=Math.min(e.t,h.y[0]-p),e.b=Math.max(e.b,h.y[0]+p)),null!=h.y[1]&&(e.t=Math.min(e.t,h.y[1]-p),e.b=Math.max(e.b,h.y[1]+p)),e.l=Math.min(e.l,v),e.r=Math.max(e.r,v),e.t=Math.min(e.t,f),e.b=Math.max(e.b,f)},e}();e.BezierCurveTo=a}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.isMove=!1}return e.prototype.init=function(){return{endPoint:void 0,startVector:void 0,endVector:void 0}},e.prototype.extendFillBox=function(e,t,r,n,a){},e.prototype.extendStrokeBox=function(e,t,r,n,a,o){},e}();e.ClosePath=t}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){var t=la.vec2,r=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,r,n){var a=n[0],o=n[1],i=n[2],c=n[3],u=n[4],s=n[5],l=n[6],v=n[7],f=la.ellipse(a,o,i,c,u),p=f.point(l),h=f.tangent(s),x=f.tangent(l);return 1==v&&(t.reverse(h),t.reverse(x)),{util:f,startVector:h,endVector:x,endPoint:p}},e.prototype.extendFillBox=function(e,t,r,n,a){for(var o=n[5],i=n[6],c=n[7],u=a.util,s=0,l=u.extrema(o,i,c);s<l.length;s++){var v=l[s];if(v){var f=v[0],p=v[1];e.l=Math.min(e.l,f),e.r=Math.max(e.r,f),e.t=Math.min(e.t,p),e.b=Math.max(e.b,p)}}},e.prototype.extendStrokeBox=function(e,t,r,n,a,o){var i=n[5],c=n[6],u=n[7],s=a.util,l=o.strokeThickness/2,v=s.extrema(i,c,u),f=v[0],p=v[1],h=v[2],x=v[3];f&&(e.l=Math.min(e.l,f[0]-l),e.r=Math.max(e.r,f[0]+l)),p&&(e.l=Math.min(e.l,p[0]-l),e.r=Math.max(e.r,p[0]+l)),h&&(e.t=Math.min(e.t,h[1]-l),e.b=Math.max(e.b,h[1]+l)),x&&(e.t=Math.min(e.t,x[1]-l),e.b=Math.max(e.b,x[1]+l))},e}();e.Ellipse=r}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){var t=la.vec2,r=function(){function e(){this.isMove=!0}return e.prototype.init=function(e,r,n){var a=n[0],o=n[1];return{startVector:null,endVector:null,endPoint:t.create(a,o)}},e.prototype.extendFillBox=function(e,t,r,n,a){var o=n[0],i=n[1];e.l=Math.min(e.l,o),e.r=Math.max(e.r,o),e.t=Math.min(e.t,i),e.b=Math.max(e.b,i)},e.prototype.extendStrokeBox=function(e,t,r,n,a,o){this.extendFillBox(e,t,r,n,a)},e}();e.MoveTo=r}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){function t(e,t,n,a,o,i){return{x:r(e,t,n),y:r(a,o,i)}}function r(e,t,r){var n=(e-t)/(e-2*t+r);return 0>n||n>1?null:e*Math.pow(1-n,2)+2*t*(1-n)*n+r*Math.pow(n,2)}var n=la.vec2,a=function(){function e(){this.isMove=!1}return e.prototype.init=function(e,t,r){var a=r[0],o=r[1],i=r[2],c=r[3];return{endPoint:n.create(i,c),startVector:n.create(2*(a-e),2*(o-t)),endVector:n.create(2*(i-a),2*(c-o))}},e.prototype.extendFillBox=function(e,r,n,a,o){var i=a[0],c=a[1],u=a[2],s=a[3],l=t(r,i,u,n,c,s);null!=l.x&&(e.l=Math.min(e.l,l.x),e.r=Math.max(e.r,l.x)),null!=l.y&&(e.t=Math.min(e.t,l.y),e.b=Math.max(e.b,l.y)),e.l=Math.min(e.l,u),e.r=Math.max(e.r,u),e.t=Math.min(e.t,s),e.b=Math.max(e.b,s)},e.prototype.extendStrokeBox=function(e,r,n,a,o,i){var c=a[0],u=a[1],s=a[2],l=a[3],v=i.strokeThickness/2,f=t(r,c,s,n,u,l);f.x&&(e.l=Math.min(e.l,f.x-v),e.r=Math.max(e.r,f.x+v)),f.y&&(e.t=Math.min(e.t,f.y-v),e.b=Math.max(e.b,f.y+v)),e.l=Math.min(e.l,s),e.r=Math.max(e.r,s),e.t=Math.min(e.t,l),e.b=Math.max(e.b,l)},e}();e.QuadraticCurveTo=a}(t=e.extenders||(e.extenders={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t=new e.extenders.Arc,r=new e.extenders.ArcTo,n=new e.extenders.BezierCurveTo,a=new e.extenders.ClosePath,o=new e.extenders.Ellipse,i=new e.extenders.LineTo,c=new e.extenders.MoveTo,u=new e.extenders.QuadraticCurveTo,s=function(){function e(){}return e.prototype.setFillRule=function(e){},e.prototype.closePath=function(){this.current=a,this.args=arguments},e.prototype.moveTo=function(e,t){this.current=c,this.args=arguments},e.prototype.lineTo=function(e,t){this.current=i,this.args=arguments},e.prototype.bezierCurveTo=function(e,t,r,a,o,i){this.current=n,this.args=arguments},e.prototype.quadraticCurveTo=function(e,t,r,n){this.current=u,this.args=arguments},e.prototype.arc=function(e,r,n,a,o,i){this.current=t,this.args=arguments},e.prototype.arcTo=function(e,t,n,a,o){this.current=r,this.args=arguments},e.prototype.ellipse=function(e,t,r,n,a,i,c,u){this.current=o,this.args=arguments},e}();e.ExtenderSelector=s}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(t){var r=function(){function t(e){this.l=0,this.t=0,this.r=0,this.b=0,this.$calc=!1,Object.defineProperties(this,{path:{value:e,writable:!1}})}return t.prototype.ensure=function(){return this.$calc||this.calculate(),this},t.prototype.calculate=function(){var t=this;this.$calc=!1,this.l=Number.POSITIVE_INFINITY,this.t=Number.POSITIVE_INFINITY,this.r=Number.NEGATIVE_INFINITY,this.b=Number.NEGATIVE_INFINITY;var r,n,a=new e.ExtenderSelector;return this.path.exec(a,function(){var e=a.current,o=e.init(r,n,a.args);e.extendFillBox(t,r,n,a.args,o),r=o.endPoint[0],n=o.endPoint[1]}),this.$calc=!0,this},t}();t.FillBounds=r}(t=e.fill||(e.fill={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){!function(e){e[e.Flat=0]="Flat",e[e.Square=1]="Square",e[e.Round=2]="Round",e[e.Triangle=3]="Triangle"}(e.PenLineCap||(e.PenLineCap={}));e.PenLineCap;!function(e){e[e.Miter=0]="Miter",e[e.Bevel=1]="Bevel",e[e.Round=2]="Round"}(e.PenLineJoin||(e.PenLineJoin={}));e.PenLineJoin}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(t,r,n){var o=n.strokeStartLineCap||n.strokeEndLineCap||0,i=a[o]||a[e.PenLineCap.Flat];i(t,r,n.strokeThickness)}var n=la.vec2;t.extendEndCap=r;var a=[];a[e.PenLineCap.Round]=function(e,t,r){var n=t.endPoint,a=n[0],o=n[1],i=r/2;e.l=Math.min(e.l,a-i),e.r=Math.max(e.r,a+i),e.t=Math.min(e.t,o-i),e.b=Math.max(e.b,o+i)},a[e.PenLineCap.Square]=function(e,t,r){var a=n.clone(t.endVector);if(a&&a[0]&&a[1]){n.normalize(a);var o=n.orthogonal(n.clone(a)),i=t.endPoint,c=i[0],u=i[1],s=r/2,l=c+s*(a[0]+o[0]),v=c+s*(a[0]-o[0]),f=u+s*(a[1]+o[1]),p=u+s*(a[1]-o[1]);e.l=Math.min(e.l,l,v),e.r=Math.max(e.r,l,v),e.t=Math.min(e.t,f,p),e.b=Math.max(e.b,f,p)}},a[e.PenLineCap.Flat]=function(e,t,r){var a=n.clone(t.endVector);if(a&&a[0]&&a[1]){n.orthogonal(n.normalize(a));var o=t.endPoint,i=o[0],c=o[1],u=r/2,s=i+u*a[0],l=i+u*-a[0],v=c+u*a[1],f=c+u*-a[1];e.l=Math.min(e.l,s,l),e.r=Math.max(e.r,s,l),e.t=Math.min(e.t,v,f),e.b=Math.max(e.b,v,f)}}}(r=t.stroke||(t.stroke={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(t,r,o,i,c,u){var s=u.strokeThickness/2;if(u.strokeLineJoin===e.PenLineJoin.Round)return t.l=Math.min(t.l,r-s),t.r=Math.max(t.r,r+s),t.t=Math.min(t.t,o-s),void(t.b=Math.max(t.b,o+s));var l=u.strokeLineJoin===e.PenLineJoin.Miter?n(r,o,i,c,s,u.strokeMiterLimit):a(r,o,i,c,s);if(l){var v=l[0][0],f=l[0][1],p=l[1][0],h=l[1][1];t.l=Math.min(t.l,v,p),t.r=Math.max(t.r,v,p),t.t=Math.min(t.t,f,h),t.b=Math.max(t.b,f,h)}}function n(e,t,r,n,i,c){var u=o.clone(n.endVector),s=o.clone(r.startVector);if(!u||!s)return null;o.reverse(u);var l=o.angleBetween(u,s)/2;if(isNaN(l))return null;var v=1/Math.sin(l);if(v>c)return a(e,t,r,n,i);var f=o.isClockwiseTo(u,s)?o.clone(u):o.clone(s);o.normalize(o.reverse(o.rotate(f,l)));var p=i*v,h=o.create(e+p*f[0],t+p*f[1]);return[h,h]}function a(e,t,r,n,a){var i=o.clone(n.endVector),c=o.clone(r.startVector);if(i&&c){o.normalize(o.reverse(i)),o.normalize(c);var u=o.clone(i),s=o.clone(c);return o.isClockwiseTo(i,c)?(u=o.orthogonal(i),s=o.reverse(o.orthogonal(c))):(u=o.reverse(o.orthogonal(i)),s=o.orthogonal(c)),[o.create(e-a*u[0],t-a*u[1]),o.create(e-a*s[0],t-a*s[1])]}}var o=la.vec2;t.extendLineJoin=r}(r=t.stroke||(t.stroke={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(t,r,n,o,i){var c=i.strokeStartLineCap||i.strokeEndLineCap||0,u=a[c]||a[e.PenLineCap.Flat];u(t,r,n,o,i.strokeThickness)}var n=la.vec2;t.extendStartCap=r;var a=[];a[e.PenLineCap.Round]=function(e,t,r,n,a){var o=a/2;e.l=Math.min(e.l,t-o),e.r=Math.max(e.r,t+o),e.t=Math.min(e.t,r-o),e.b=Math.max(e.b,r+o)},a[e.PenLineCap.Square]=function(e,t,r,a,o){var i=n.clone(a.startVector);if(i&&i[0]&&i[1]){n.reverse(n.normalize(i));var c=n.orthogonal(n.clone(i)),u=o/2,s=t+u*(i[0]+c[0]),l=t+u*(i[0]-c[0]),v=r+u*(i[1]+c[1]),f=r+u*(i[1]-c[1]);e.l=Math.min(e.l,s,l),e.r=Math.max(e.r,s,l),e.t=Math.min(e.t,v,f),e.b=Math.max(e.b,v,f)}},a[e.PenLineCap.Flat]=function(e,t,r,a,o){var i=n.clone(a.startVector);if(i&&i[0]&&i[1]){n.orthogonal(n.normalize(i));var c=o/2,u=t+c*i[0],s=t+c*-i[0],l=r+c*i[1],v=r+c*-i[1];e.l=Math.min(e.l,u,s),e.r=Math.max(e.r,u,s),e.t=Math.min(e.t,l,v),e.b=Math.max(e.b,l,v)}}}(r=t.stroke||(t.stroke={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.extend=function(){},e}();e.StartCapExtender=t}(t=e.stroke||(e.stroke={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){var t;!function(t){var r=function(){function r(e){this.l=0,this.t=0,this.r=0,this.b=0,this.$calc=!1,Object.defineProperties(this,{path:{value:e,writable:!1}})}return r.prototype.ensure=function(){return this.$calc||this.calculate(),this},r.prototype.calculate=function(){var r=this;this.$calc=!1,this.l=Number.POSITIVE_INFINITY,this.t=Number.POSITIVE_INFINITY,this.r=Number.NEGATIVE_INFINITY,this.b=Number.NEGATIVE_INFINITY;var n,a,o,i,c=new e.ExtenderSelector;return this.path.exec(c,function(){var e=c.current,u=e.init(n,a,c.args);e.isMove||(o.isMove?t.extendStartCap(r,n,a,u,r.pars):i&&t.extendLineJoin(r,n,a,u,i,r.pars)),e.extendStrokeBox(r,n,a,c.args,u,r.pars),n=u.endPoint[0],a=u.endPoint[1],o=e,i=u}),i&&t.extendEndCap(this,i,this.pars),this.$calc=!0,this},r}();t.StrokeBounds=r}(t=e.stroke||(e.stroke={}))}(t=e.bounds||(e.bounds={}))}(curve||(curve={}));var curve;!function(e){var t;!function(t){function r(t){var r=n.instance;if(r.compiled.length=0,"string"==typeof t){var a=e.parse.getParser();a.parse(r,t)}else"function"==typeof t.exec&&t.exec(r);return r.compiled}t.compile=r;var n=function(){function e(){this.compiled=[]}return e.prototype.setFillRule=function(e){this.compiled.push({t:CompiledOpType.setFillRule,a:[e]})},e.prototype.closePath=function(){this.compiled.push({t:CompiledOpType.closePath,a:[]})},e.prototype.moveTo=function(e,t){this.compiled.push({t:CompiledOpType.moveTo,a:[e,t]})},e.prototype.lineTo=function(e,t){this.compiled.push({t:CompiledOpType.lineTo,a:[e,t]})},e.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.compiled.push({t:CompiledOpType.bezierCurveTo,a:[e,t,r,n,a,o]})},e.prototype.quadraticCurveTo=function(e,t,r,n){this.compiled.push({t:CompiledOpType.quadraticCurveTo,a:[e,t,r,n]})},e.prototype.arc=function(e,t,r,n,a,o){this.compiled.push({t:CompiledOpType.arc,a:[e,t,r,n,a,o]})},e.prototype.arcTo=function(e,t,r,n,a){this.compiled.push({t:CompiledOpType.arcTo,a:[e,t,r,n,a]})},e.prototype.ellipse=function(e,t,r,n,a,o,i,c){this.compiled.push({t:CompiledOpType.ellipse,a:[e,t,r,n,a,o,i,c]})},e.instance=new e,e}()}(t=e.compiler||(e.compiler={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){function t(e,t){for(var r=0;t&&r<t.length;r++){var n=t[r],a=void 0;if("number"==typeof n.t&&(a=CompiledOpType[n.t])){var o=e[a];o&&o.apply(e,n.a)}else console.warn("Unknown compiled path command: "+n.t+", "+n.a)}}e.decompile=t}(t=e.compiler||(e.compiler={}))}(curve||(curve={}));var CompiledOpType;!function(e){e[e.setFillRule=1]="setFillRule",e[e.closePath=2]="closePath",e[e.moveTo=3]="moveTo",e[e.lineTo=4]="lineTo",e[e.bezierCurveTo=5]="bezierCurveTo",e[e.quadraticCurveTo=6]="quadraticCurveTo",e[e.arc=7]="arc",e[e.arcTo=8]="arcTo",e[e.ellipse=9]="ellipse"}(CompiledOpType||(CompiledOpType={}));var curve;!function(e){var t;!function(e){function t(e,t,n,a,o,i,c,u){var s=r.rotate(r.create(n*Math.cos(i),a*Math.sin(i)),o);s[0]+=e,s[1]+=t;var l=r.rotate(r.create(n*Math.cos(c),a*Math.sin(c)),o);l[0]+=e,l[1]+=t;var v=c-i,f=Math.abs(v)>Math.PI?1:0,p=Math.abs(i-c)?i>c:i>c;f=p!==u?1-f:f;var h=u===!0?0:1;return{sx:s[0],sy:s[1],ex:l[0],ey:l[1],fa:f,fs:h,rx:n,ry:a,phi:o}}var r=la.vec2;e.fromEllipse=t}(t=e.ellipticalArc||(e.ellipticalArc={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){function t(e,t,r,n){e=Math.abs(e),t=Math.abs(t);var a=r*r/(e*e)+n*n/(t*t);if(a>1){var o=Math.sqrt(a);e*=o,t*=o}return[e,t]}e.correctRadii=t}(t=e.ellipticalArc||(e.ellipticalArc={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){function t(t,o,i,c,u,s,l,v,f){if(0===i||0===c)return{cx:v,cy:f,rx:i,ry:c};var p=n.create((t-v)/2,(o-f)/2);n.rotate(p,-u),k=e.correctRadii(i,c,p[0],p[1]),i=k[0],c=k[1];var h=i*i,x=c*c,y=p[0]*p[0],d=p[1]*p[1],m=Math.sqrt((h*x-h*d-x*y)/(h*d+x*y));s===l&&(m*=-1);var T=n.create(i*p[1]/c,-c*p[0]/i);T[0]*=m,T[1]*=m;var b=n.rotate(n.clone(T),u);b[0]+=(t+v)/2,b[1]+=(o+f)/2;var M=n.create(1,0),P=n.create((p[0]-T[0])/i,(p[1]-T[1])/c),S=n.angleBetween(M,P)*r(M,P);0>S&&(S+=a),M=n.create((-p[0]-T[0])/i,(-p[1]-T[1])/c);var C=n.angleBetween(P,M)*r(P,M)%a;0===l&&C>0?C-=a:1===l&&0>C&&(C+=a);var g=(S+C)%a;0>g&&(g+=a);var E=0===l;return{cx:b[0],cy:b[1],rx:i,ry:c,phi:u,sa:S,ea:g,ac:E};var k}function r(e,t){return e[0]*t[1]-e[1]*t[0]<0?-1:1}var n=la.vec2,a=2*Math.PI;e.toEllipse=t}(t=e.ellipticalArc||(e.ellipticalArc={}))}(curve||(curve={}));var FillRule;!function(e){e[e.EvenOdd=0]="EvenOdd",e[e.NonZero=1]="NonZero"}(FillRule||(FillRule={}));var SweepDirection;!function(e){e[e.Counterclockwise=0]="Counterclockwise",e[e.Clockwise=1]="Clockwise"}(SweepDirection||(SweepDirection={}));var curve;!function(e){var t;!function(e){var t;!function(e){function t(e){var t=e.offset,r=e.data;r.length;if(n(r,e.offset))return e.offset+=3,NaN;var s=!1;if(45===r[e.offset]?(s=!0,e.offset++):43===r[e.offset]&&e.offset++,a(r,e.offset))return e.offset+=8,s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;o(e);var l=r[e.offset];if(46===l&&(e.offset++,!i(e)))throw new Error("Invalid number");if(!c(e))throw new Error("Invalid number");return parseFloat(u(r,t,e.offset-t))}function r(e){return e instanceof Uint8Array?e:"function"==typeof TextEncoder?(new TextEncoder).encode(e):void 0}function n(e,t){return 78===e[t+0]&&97===e[t+1]&&78===e[t+2]}function a(e,t){return 73===e[t+0]&&110===e[t+1]&&102===e[t+2]&&105===e[t+3]&&110===e[t+4]&&105===e[t+5]&&116===e[t+6]&&121===e[t+7]}function o(e){for(var t,r=e.offset,n=e.data;null!=(t=n[e.offset])&&t>=48&&57>=t;)e.offset++;return e.offset!==r}function i(e){for(var t,r=e.offset,n=e.data;null!=(t=n[e.offset])&&t>=48&&57>=t;)e.offset++;return e.offset!==r}function c(e){var t=e.data;if(69!==t[e.offset]&&101!==t[e.offset])return!0;e.offset++;var r=t[e.offset];return(45===r||43===r)&&e.offset++,o(e)}function u(e,t,r){for(var n=new Array(r),a=0;r>a;a++)n[a]=e[t+a];return String.fromCharCode.apply(null,n)}var s=function(){function e(){}return e.prototype.parse=function(e,t){r(t)},e}();e.Parser=s,e.parseNumber=t}(t=e.buffer||(e.buffer={}))}(t=e.parse||(e.parse={}))}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(t,r,o){switch(r.pathSegType){case SVGPathSeg.PATHSEG_ARC_ABS:var i=r,c=e.ellipticalArc.toEllipse(o[0],o[1],i.r1,i.r2,i.angle,i.largeArcFlag?1:0,i.sweepFlag?1:0,i.x,i.y);c.rx&&c.ry?t.ellipse(c.cx,c.cy,c.rx,c.ry,c.phi,c.sa,c.ea,c.ac):t.lineTo(c.cx,c.cy),o[0]=i.x,o[1]=i.y;break;case SVGPathSeg.PATHSEG_ARC_REL:var u=r,s=e.ellipticalArc.toEllipse(o[0],o[1],u.r1,u.r2,u.angle,u.largeArcFlag?1:0,u.sweepFlag?1:0,o[0]+u.x,o[1]+u.y);s.rx&&s.ry?t.ellipse(s.cx,s.cy,s.rx,s.ry,s.phi,s.sa,s.ea,s.ac):t.lineTo(s.cx,s.cy),o[0]+=u.x,o[1]+=u.y;break;case SVGPathSeg.PATHSEG_CLOSEPATH:t.closePath();break;case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var l=r;t.bezierCurveTo(l.x1,l.y1,l.x2,l.y2,l.x,l.y),o[0]=l.x,o[1]=l.y;break;case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var v=r;t.bezierCurveTo(o[0]+v.x1,o[1]+v.y1,o[0]+v.x2,o[1]+v.y2,o[0]+v.x,o[1]+v.y),o[0]+=v.x,o[1]+=v.y;break;case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var f=r;n(t,f.x2,f.y2,f.x,f.y,o);break;case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var p=r;n(t,o[0]+p.x2,o[1]+p.y2,o[0]+p.x,o[1]+p.y,o);break;case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var h=r;t.quadraticCurveTo(h.x1,h.y1,h.x,h.y),o[0]=h.x,o[1]=h.y;break;case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var x=r;t.quadraticCurveTo(o[0]+x.x1,o[1]+x.y1,o[0]+x.x,o[1]+x.y),o[0]+=x.x,o[1]+=x.y;break;case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:var y=r;a(t,y.x,y.y,o);break;case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:var d=r;a(t,o[0]+d.x,o[1]+d.y,o);break;case SVGPathSeg.PATHSEG_LINETO_ABS:var m=r;o[0]=m.x,o[1]=m.y,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:var T=r;o[0]=T.x,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:var b=r;o[0]+=b.x,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_LINETO_REL:var M=r;o[0]+=M.x,o[1]+=M.y,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:var P=r;o[1]=P.y,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:var S=r;o[1]+=S.y,t.lineTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_MOVETO_ABS:var C=r;o[0]=C.x,o[1]=C.y,t.moveTo(o[0],o[1]);break;case SVGPathSeg.PATHSEG_MOVETO_REL:var g=r;o[0]+=g.x,o[1]+=g.y,t.moveTo(o[0],o[1]);break;default:case SVGPathSeg.PATHSEG_UNKNOWN:console.warn("Unknown path segment.")}}function n(e,t,r,n,a,o){o[0],o[1];console.warn("Smooth cubic","Not implemented")}function a(e,t,r,n){n[0],n[1];console.warn("Smooth quadratic","Not implemented")}var o=(document.createElementNS("http://www.w3.org/2000/svg","svg"),document.createElementNS("http://www.w3.org/2000/svg","path")),i=function(){function e(){}return e.prototype.parse=function(e,t){if("string"!=typeof t)return void console.warn("Input parse data was not a string.",t);o.setAttribute("d",t);for(var n=o.pathSegList,a=[0,0],i=0,c=n.numberOfItems;c>i;i++)r(e,n.getItem(i),a)},e}();t.Parser=i}(r=t.dom||(t.dom={}))}(t=e.parse||(e.parse={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){!function(e){e[e.Dom=1]="Dom",e[e.Buffer=2]="Buffer",e[e.CharMatching=3]="CharMatching"}(e.ParseStyles||(e.ParseStyles={}));e.ParseStyles}(t=e.parse||(e.parse={}))}(curve||(curve={}));var curve;!function(e){var t;!function(e){function t(){return e.style===e.ParseStyles.Buffer?new e.buffer.Parser:e.style===e.ParseStyles.Dom?new e.dom.Parser:new e.matching.Parser}e.style=e.ParseStyles.CharMatching,e.getParser=t}(t=e.parse||(e.parse={}))}(curve||(curve={}));var curve;!function(e){var t;!function(t){var r;!function(t){function r(t,r,n){function a(){for(var a,u,v,f,p={x:0,y:0},h={x:0,y:0},x=!1,y=!1,d={x:0,y:0},m={x:0,y:0};n>l;){for(var T;n>l&&" "===(T=r.charAt(l));)l++;l++;var b=!1;switch(T){case"f":case"F":if(T=r.charAt(l),"0"===T)t.setFillRule(FillRule.EvenOdd);else{if("1"!==T)return null;t.setFillRule(FillRule.NonZero)}l++,T=r.charAt(l);break;case"m":b=!0;case"M":if(a=o(),null==a)break;for(b&&(a.x+=p.x,a.y+=p.y),t.moveTo(a.x,a.y),h.x=p.x=a.x,h.y=p.y=a.y,c();s()&&null!=(a=o());)b&&(a.x+=p.x,a.y+=p.y),t.lineTo(a.x,a.y);p.x=a.x,p.y=a.y,x=y=!1;break;case"l":b=!0;case"L":for(;s()&&null!=(a=o());)b&&(a.x+=p.x,a.y+=p.y),t.lineTo(a.x,a.y),p.x=a.x,p.y=a.y,c();x=y=!1;break;case"h":b=!0;case"H":var M=i();if(null==M)break;b&&(M+=p.x),p={x:M,y:p.y},t.lineTo(p.x,p.y),x=y=!1;break;case"v":b=!0;case"V":var P=i();if(null==P)break;b&&(P+=p.y),p={x:p.x,y:P},t.lineTo(p.x,p.y),x=y=!1;break;case"c":b=!0;case"C":for(;s()&&null!=(a=o())&&(b&&(a.x+=p.x,a.y+=p.y),c(),null!=(u=o()))&&(b&&(u.x+=p.x,u.y+=p.y),c(),null!=(v=o()));)b&&(v.x+=p.x,v.y+=p.y),c(),t.bezierCurveTo(a.x,a.y,u.x,u.y,v.x,v.y),a.x=v.x,a.y=v.y;p.x=v.x,p.y=v.y,x=!0,d.x=u.x,d.y=u.y,y=!1;break;case"s":b=!0;case"S":for(;s()&&null!=(u=o())&&(b&&(u.x+=p.x,u.y+=p.y),c(),null!=(v=o()));)b&&(v.x+=p.x,v.y+=p.y),x?(a.x=2*p.x-d.x,a.y=2*p.y-d.y):a=p,t.bezierCurveTo(a.x,a.y,u.x,u.y,v.x,v.y),x=!0,d.x=u.x,d.y=u.y,p.x=v.x,p.y=v.y,c();y=!1;break;case"q":b=!0;case"Q":for(;s()&&null!=(a=o())&&(b&&(a.x+=p.x,a.y+=p.y),c(),null!=(u=o()));)b&&(u.x+=p.x,u.y+=p.y),c(),t.quadraticCurveTo(a.x,a.y,u.x,u.y),p.x=u.x,p.y=u.y;y=!0,m.x=a.x,m.y=a.y,x=!1;break;case"t":b=!0;case"T":for(;s()&&null!=(u=o());)b&&(u.x+=p.x,u.y+=p.y),y?(a.x=2*p.x-m.x,a.y=2*p.y-m.y):a=p,t.quadraticCurveTo(a.x,a.y,u.x,u.y),y=!0,m.x=a.x,m.y=a.y,p.x=u.x,p.y=u.y,c();x=!1;break;case"a":b=!0;case"A":for(;s()&&null!=(a=o());){var S=i(),C=0!==i()?1:0,g=SweepDirection.Counterclockwise;if(0!==i()&&(g=SweepDirection.Clockwise),null==(u=o()))break;b&&(u.x+=p.x,u.y+=p.y);var E=S*Math.PI/180;f=e.ellipticalArc.toEllipse(p.x,p.y,a.x,a.y,E,C,g,u.x,u.y),f.rx&&f.ry?t.ellipse(f.cx,f.cy,f.rx,f.ry,f.phi,f.sa,f.ea,f.ac):t.lineTo(f.cx,f.cy),p.x=u.x,p.y=u.y,c()}x=y=!1;break;case"z":case"Z":t.closePath(),p.x=h.x,p.y=h.y,x=y=!1}}}function o(){var e=i();if(null==e)return null;for(var t;n>l&&(" "===(t=r.charAt(l))||","===t);)l++;if(l>=n)return null;var a=i();return null==a?null:{x:e,y:a}}function i(){c();var e=!1;if(u("-")?(e=!0,l++):u("+")&&l++,u("Infinity"))return l+=8,e?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;if(u("NaN"))return NaN;for(var t="";n>l;){var a=r.charCodeAt(l),o=r[l];if(a>=48&&57>=a)t+=o;else if(46===a)t+=o;else{if("E"!==o&&"e"!==o)break;t+=o,"-"===r[l+1]&&(t+="-",l++)}l++}if(0===t.length)return null;var i=parseFloat(t);return e?-i:i}function c(){for(var e,t;n>l&&(e=r.charCodeAt(l),!(e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e))&&(t=String.fromCharCode(e),"."!==t)&&"-"!==t&&"+"!==t;)l++}function u(e){for(var t,a,o=0;o<e.length&&n>l+o;o++)if(t=e.charAt(o),a=r.charAt(l+o),t!==a)return!1;return!0}function s(){for(var e;n>l&&(","===(e=r.charAt(l))||" "===e);)l++;if(l>=n)return!1;if("."===e||"-"===e||"+"===e)return!0;var t=r.charCodeAt(l);return t>=48&&57>=t}var l=0;a()}var n=function(){function e(){}return e.prototype.parse=function(e,t){"string"==typeof t?r(e,t,t.length):console.warn("Input parse data was not a string.",t)},e}();t.Parser=n}(r=t.matching||(t.matching={}))}(t=e.parse||(e.parse={}))}(curve||(curve={}));var curve;!function(e){var t=function(){function t(r){if(this.$ops=[],r instanceof t)r.exec(this);else if(Array.isArray(r))new e.compiler.decompile(this,r);else if("string"==typeof r){var n=e.parse.getParser();n.parse(this,r)}}return t.prototype.exec=function(e,t){for(var r=this.$ops,n=0;r&&n<r.length;n++)r[n](e),t&&t()},t.prototype.draw=function(e){this.exec(e)},t.prototype.addPath=function(e){e.exec(this)},t.prototype.setFillRule=function(e){this.$ops.push(function(t){return t.setFillRule(e)})},t.prototype.closePath=function(){this.$ops.push(function(e){return e.closePath()})},t.prototype.moveTo=function(e,t){this.$ops.push(function(r){return r.moveTo(e,t)})},t.prototype.lineTo=function(e,t){this.$ops.push(function(r){return r.lineTo(e,t)})},t.prototype.bezierCurveTo=function(e,t,r,n,a,o){this.$ops.push(function(i){return i.bezierCurveTo(e,t,r,n,a,o)})},t.prototype.quadraticCurveTo=function(e,t,r,n){this.$ops.push(function(a){return a.quadraticCurveTo(e,t,r,n)})},t.prototype.arc=function(e,t,r,n,a,o){this.$ops.push(function(i){return i.arc(e,t,r,n,a,o)})},t.prototype.arcTo=function(e,t,r,n,a){this.$ops.push(function(o){return o.arcTo(e,t,r,n,a)})},t.prototype.ellipse=function(e,t,r,n,a,o,i,c){this.$ops.push(function(u){return u.ellipse(e,t,r,n,a,o,i,c)})},t.parse=function(t,r){var n=e.parse.getParser();n.parse(t,r)},t}();e.Path=t}(curve||(curve={}));var curve;!function(e){var t=CanvasRenderingContext2D.prototype;t.ellipse||(t.ellipse=function(e,t,r,n,a,o,i,c){this.save(),this.translate(e,t),this.rotate(a),this.scale(r,n),this.arc(0,0,1,o,i,c),this.restore()})}(curve||(curve={}));var curve;!function(e){var t=CanvasRenderingContext2D.prototype;t.setFillRule||(t.setFillRule=function(e){this.fillRule=e})}(curve||(curve={})),function(e){"function"!=typeof e.TextEncoder&&(e.TextEncoder=function(){function e(){Object.defineProperties(this,{encoding:{value:"utf-8",writable:!1}})}return e.prototype.encode=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=e.charCodeAt(n);return r},e}())}(this);var curve;!function(e){function t(e,t){var r=new a(t);return e.exec(r),r.data}function r(e,t){return Math.abs(e-t)<o}function n(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}e.serialize=t;var a=function(){function t(e){this.data="",this.pretty=e===!0}return t.prototype.setFillRule=function(e){this.prepend().data+="F"+e},t.prototype.closePath=function(){this.prepend().data+="Z"},t.prototype.moveTo=function(e,t){this.pretty&&(e=n(e,2),t=n(t,2)),this.prepend().data+="M"+e+","+t,this.prev={x:e,y:t}},t.prototype.lineTo=function(e,t){this.pretty&&(e=n(e,2),t=n(t,2)),this.prepend().data+="L"+e+","+t,this.prev={x:e,y:t}},t.prototype.bezierCurveTo=function(e,t,r,a,o,i){this.pretty&&(e=n(e,2),t=n(t,2),r=n(r,2),a=n(a,2),o=n(o,2),i=n(i,2)),this.prepend().data+="C"+e+","+t+","+r+","+a+","+o+","+i,this.prev={x:o,y:i}},t.prototype.quadraticCurveTo=function(e,t,r,a){this.pretty&&(e=n(e,2),t=n(t,2),r=n(r,2),a=n(a,2)),this.prepend().data+="Q"+e+","+t+","+r+","+a,this.prev={x:r,y:a}},t.prototype.arc=function(e,t,r,n,a,o){},t.prototype.arcTo=function(e,t,r,n,a){},t.prototype.ellipse=function(t,a,o,i,c,u,s,l){var v=e.ellipticalArc.fromEllipse(t,a,o,i,c,u,s,l);v.phi=180*v.phi/Math.PI,this.pretty&&(v.sx=n(v.sx,2),v.sy=n(v.sy,2),v.rx=n(v.rx,2),v.ry=n(v.ry,2),v.phi=n(v.phi,2),v.ex=n(v.ex,2),v.ey=n(v.ey,2)),this.prev&&r(this.prev.x,v.sx)&&r(this.prev.y,v.sy)?this.prepend().data+="A"+v.rx+","+v.ry+" "+v.phi+" "+v.fa+" "+v.fs+" "+v.ex+","+v.ey:this.prepend().data+="L"+v.sx+","+v.sy+" A"+v.rx+","+v.ry+" "+v.phi+" "+v.fa+" "+v.fs+" "+v.ex+","+v.ey},t.prototype.prepend=function(){return this.data&&(this.data+=" "),this},t}(),o=1e-4}(curve||(curve={}));
//# sourceMappingURL=curve.min.js.map
